<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>AI TIC TAC TOE</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Audiowide&display=swap" rel="stylesheet">
    <link rel='stylesheet' type='text/css' media='screen' href='style.css'>
    <script src='index.js' type="module" defer></script>
</head>
<body>
    <section id="start-screen" class="screen screen--start">
        <form class="container">
            <h1>tic tac toe</h1>
    
            <div>
                <h2>player 1 (x)</h2>
                <label>name:
                    <input id="player1-name" type="text" placeholder="player 1" />
                </label>
                <label>
                    <input type="radio" name="player1-type"  value="HUMAN" checked> human
                </label>
                <label>
                    <input type="radio" name="player1-type"  value="COMPUTER" disabled> computer
                </label>
            </div>
            <div>
                <h2>player 2 (o)</h2>
                <label>name:
                    <input id="player2-name" type="text" placeholder="player 2" />
                </label>
                <label>
                    <input type="radio" name="player2-type"  value="HUMAN" checked> human
                </label>
                <label>
                    <input type="radio" name="player2-type"  value="COMPUTER" disabled> computer
                </label>
            </div>
    
            <button id="start-button">Start</button>
        </form>
    </section>
    <div id="round-screen" class="screen screen--round">
        <div class="container">
            <h1>Round 0/0</h1>
        </div>
    </div>
    <section id="board-screen" class="screen screen--board">
        <div class="container">
            <div class="hint" id="hint">
            </div>
            <div id="board-container">
                <div class="board" id="board">
                    <div class="board__cell"></div>
                    <div class="board__cell"></div>
                    <div class="board__cell"></div>
                    <div class="board__cell"></div>
                    <div class="board__cell"></div>
                    <div class="board__cell"></div>
                    <div class="board__cell"></div>
                    <div class="board__cell"></div>
                    <div class="board__cell"></div>
                </div>
            </div>
            <div class="score" id="score">
            </div>
        </div>
    </section>
    <section id="end-round-screen" class="screen screen--end-round">
        <div class="container">
            <div id="nextRound">
                
                <h1 class="winnerMessage">player A won!</h1>
                <svg class="loading-icon" width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M50 25C50 38.8071 38.8071 50 25 50C11.1929 50 0 38.8071 0 25C0 11.1929 11.1929 0 25 0C38.8071 0 50 11.1929 50 25Z" fill="#9911bb"/>
                    <path class="path" fill="transparent" stroke="black" stroke-width="50" fill-rule="evenodd" clip-rule="evenodd" d="M25 49C38.2548 49 49 38.2548 49 25C49 11.7452 38.2548 1 25 1C11.7452 1 1 11.7452 1 25C1 38.2548 11.7452 49 25 49ZM25 50C38.8071 50 50 38.8071 50 25C50 11.1929 38.8071 0 25 0C11.1929 0 0 11.1929 0 25C0 38.8071 11.1929 50 25 50Z" />
                </svg>
                <p>Next Round...</p>
                    
            </div> 
        </div>
    </section>
    <section id="end-game-screen" class="screen screen--end-game">
        <div class="container">
            <h1>End of game!</h1>
            <div class="score"></div>
            <button>Restart</button>
        </div>
    </section>
    <script type="module">
        import createGame from "./src/createGame.js";
        import createScreen from "./src/createScreen.js";

        const gameScreen = createScreen(window);
        gameScreen.init();
        window.gameScreen = gameScreen;

        
        
        
        const game = createGame();
        window.game= game;
        
        console.log(game.state)
        
        game.subscribe(gameScreen.executeCommand);
        gameScreen.subscribe(game.executeCommand);
        
        gameScreen.showStartScreen();

        // game.setup({name: 'P1', type: 'HUMAN'}, {name: 'P2', type: 'HUMAN'});
        // game.startGame();

        // game.move(0,0);
        // game.move(1,1);
        // game.move(0,2);
        // game.move(1,3);
        // game.move(0,5);
        // game.move(1,4);
        // game.move(0,6);
        // game.move(1,8);
        // game.move(0,7);

        // // 0x 1o 2x
        // // 3o 4o 5x
        // // 6x 7x 8o

        // game.startNextRound();

        // game.move(0,0);
        // game.move(1,1);
        // game.move(0,3);
        // game.move(1,2);
        // game.move(0,6);
        // game.move(1,4);
        // game.move(0,6);
        // game.move(1,8);
        // game.move(0,7);
        
        // game.startNextRound();

        // game.move(0,0);
        // game.move(1,1);
        // game.move(0,3);
        // game.move(1,2);
        // game.move(0,6);
        // game.move(1,4);
        // game.move(0,6);
        // game.move(1,8);
        // game.move(0,7);

        // game.startNextRound();

        // game.move(0,0);
        // game.move(1,1);
        // game.move(0,3);
        // game.move(1,2);
        // game.move(0,6);
        // game.move(1,4);
        // game.move(0,6);
        // game.move(1,8);
        // game.move(0,7);
    </script>
</body>
</html>